<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN"
  "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" version="XHTML+RDFa 1.0" dir="ltr">
<head profile="http://www.w3.org/1999/xhtml/vocab">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<!-- *** Page title *** -->
	<title>Death By Detention Map | Detention Watch Network</title>


	<link href="http://fonts.googleapis.com/css?family=Oswald:400,300|Open+Sans:400,400italic,600,600italic,700,700italic" rel="stylesheet" type="text/css" />
	<link href="//www.detentionwatchnetwork.org/sites/all/libraries/foundation-icons/foundation-icons.css" rel="stylesheet" type="text/css" />
	<link href="//www.detentionwatchnetwork.org/sites/all/themes/dwn/images/icon-touch.png" rel="apple-touch-icon" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0" />
	<meta property="og:site_name" content="Detention Watch Network" />
	<link rel="shortcut icon" href="//www.detentionwatchnetwork.org/favicon.ico" type="image/vnd.microsoft.icon" />

	<style type="text/css" media="all">
	@import url("//www.detentionwatchnetwork.org/modules/system/system.base.css");
	@import url("//www.detentionwatchnetwork.org/modules/system/system.menus.css");
	@import url("//www.detentionwatchnetwork.org/modules/system/system.messages.css");
	@import url("//www.detentionwatchnetwork.org/modules/system/system.theme.css");
	@import url("//www.detentionwatchnetwork.org/sites/all/themes/dwn/css/style.css");
	</style>
	<style type="text/css" media="only screen and (max-width:1000px)">
	@import url("//www.detentionwatchnetwork.org/sites/all/themes/dwn/css/tablet.css");
	</style>
	<style type="text/css" media="only screen and (max-width:620px)">
	@import url("//www.detentionwatchnetwork.org/sites/all/themes/dwn/css/mobile.css");
	</style>
	<style type="text/css" media="print">
	@import url("//www.detentionwatchnetwork.org/sites/all/themes/dwn/css/print.css");
	</style>
	<style type="text/css" media="screen">
	@import url("//www.detentionwatchnetwork.org/sites/all/libraries/fixed-sticky/fixedsticky.css");
	</style>

	<!-- *** Map styles *** -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
    <style>
    #map {
        height: 600px;
        margin-top: 40px;
        margin-bottom: 40px;
    }

    .facility {
        margin-top: 30px;
        margin-bottom: 30px;
    }

    .facility h3 {
        margin-bottom: 30px;

    }
    </style>
	<script type="text/javascript" src="//www.detentionwatchnetwork.org/misc/jquery.js?v=1.4.4"></script>
	<script type="text/javascript" src="//www.detentionwatchnetwork.org/misc/jquery.once.js?v=1.2"></script>
	<script type="text/javascript" src="//www.detentionwatchnetwork.org/misc/drupal.js"></script>
<!-- *** Disable Google Analytics for now
	<script type="text/javascript" src="//www.detentionwatchnetwork.org/sites/all/modules/contrib/google_analytics/googleanalytics.js"></script>
	<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create", "UA-5790493-3", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
	</script>
-->
	<script type="text/javascript" src="//www.detentionwatchnetwork.org/sites/all/themes/dwn/js/scripts.js"></script>
	<script type="text/javascript" src="//www.detentionwatchnetwork.org/sites/all/libraries/fixed-sticky/fixedsticky.js"></script>
	<script type="text/javascript" src="//www.detentionwatchnetwork.org/sites/all/libraries/sidr/dist/jquery.sidr.js"></script>
	<script type="text/javascript">
	<!--//--><![CDATA[//><!--
	jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"dwn","theme_token":"eSwYG_KaYu-0COJ_Tk-hAma8RTUiUJEN3I3ZdrAIu7w","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/contrib\/google_analytics\/googleanalytics.js":1,"0":1,"sites\/all\/themes\/dwn\/js\/scripts.js":1,"sites\/all\/libraries\/fixed-sticky\/fixedsticky.js":1,"sites\/all\/libraries\/sidr\/dist\/jquery.sidr.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/contrib\/date\/date_api\/date.css":1,"sites\/all\/modules\/contrib\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/contrib\/youtube\/css\/youtube.css":1,"sites\/all\/modules\/contrib\/views\/css\/views.css":1,"sites\/all\/modules\/contrib\/ckeditor\/css\/ckeditor.css":1,"sites\/all\/modules\/contrib\/ctools\/css\/ctools.css":1,"sites\/all\/themes\/dwn\/css\/style.css":1,"sites\/all\/themes\/dwn\/css\/tablet.css":1,"sites\/all\/themes\/dwn\/css\/mobile.css":1,"sites\/all\/themes\/dwn\/css\/print.css":1,"sites\/all\/libraries\/fixed-sticky\/fixedsticky.css":1}},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"urlIsAjaxTrusted":{"\/contact":true}});
	//--><!]]>
	</script>


	<!-- *** Map scripts *** -->




</head>

<body class="html not-front no-sidebars page-map">

<div id="skip-link"><a href="#content" class="element-invisible element-focusable">Skip to main content</a></div>

<!-- Header -->
<div id="header"><div class="container clearfix">
	<a href="/" rel="home" id="logo"><img src="//www.detentionwatchnetwork.org/sites/all/themes/dwn/images/header-logo@2x.png" alt="Detention Watch Network" /></a>

	<div class="region region-header">
		<div id="block-menu-menu-auxiliary" class="block block-menu"><div class="content"><ul class="menu clearfix"><li class="first leaf active-trail"><a href="/contact" class="active-trail active">Contact Us</a></li><li class="last leaf"><a href="//www.detentionwatchnetwork.org/about/membership-directory">Membership Directory</a></li></ul></div></div>
		<div id="block-search-form" class="block block-search"><div class="content">
			<form action="//www.detentionwatchnetwork.org/incoming-search" method="get" id="search-block-form" accept-charset="UTF-8">
			<div class="container-inline"><h2 class="element-invisible">Site Search</h2><div class="form-item form-type-textfield form-item-search-block-form"><label class="element-invisible" for="edit-search-block-form--2">Search</label><input title="Enter the terms you wish to search for." placeholder="Search DWN" type="text" id="edit-search-block-form--2" name="keyword" value="" size="15" maxlength="128" class="form-text" /></div><div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div></div>
			</form>
		</div></div>
	</div>

	<a id="mobile-menu-toggle" href="#mobile-menu"><i class="fi-list"></i><span>Menu</span></a>
</div></div>


<!-- Main navigation -->
<div id="main-menu" class="fixedsticky"><div id="main-menu-wrapper" class="container">
	<h2 class="element-invisible">Main menu</h2><ul class="menu clearfix"><li class="first expanded"><a href="//www.detentionwatchnetwork.org/about">About</a><ul class="menu clearfix"><li class="first leaf"><a href="//www.detentionwatchnetwork.org/about/staff">Staff</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/about/steering-committee">Steering Committee</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/about/membership-directory">Membership Directory</a></li>
	<li class="last leaf"><a href="//www.detentionwatchnetwork.org/about/jobs-internships">Jobs and Internships</a></li>
	</ul></li>
	<li class="expanded"><a href="//www.detentionwatchnetwork.org/membership">Membership</a><ul class="menu clearfix"><li class="first leaf"><a href="//www.detentionwatchnetwork.org/membership/join">Become a Member</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/membership/renew">Renew Your Membership</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/membership/faq">Membership FAQs</a></li>
	<li class="last collapsed"><a href="//www.detentionwatchnetwork.org/membership/conference">Member Conference</a></li>
	</ul></li>
	<li class="expanded"><a href="//www.detentionwatchnetwork.org/issues">The Issues</a><ul class="menu clearfix"><li class="first leaf"><a href="//www.detentionwatchnetwork.org/issues/detention-101">Detention 101</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/issues/mandatory-detention">Mandatory Detention</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/issues/detention-quotas">Detention Quotas</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/issues/family-detention">Family Detention</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/issues/detention-oversight">Detention Oversight</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/issues/financial-incentives">Financial Incentives</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/issues/shadow-prisons">Shadow Prisons</a></li>
	<li class="last leaf"><a href="//www.detentionwatchnetwork.org/issues/alternatives">Alternatives</a></li>
	</ul></li>
	<li class="expanded"><a href="//www.detentionwatchnetwork.org/take-action">Take Action</a><ul class="menu clearfix"><li class="first leaf"><a href="//www.detentionwatchnetwork.org/take-action/organize">Organize</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/about/membership-directory">Connect</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/take-action/advocate">Advocate</a></li>
	<li class="leaf"><a href="//www.detentionwatchnetwork.org/donate">Donate</a></li>
	<li class="collapsed"><a href="//www.detentionwatchnetwork.org/take-action/signup">Sign Up</a></li>
	<li class="last leaf"><a href="//www.detentionwatchnetwork.org/take-action/visit">Visit</a></li>
	</ul></li>
	<li class="expanded"><a href="//www.detentionwatchnetwork.org/pressroom">Pressroom</a><ul class="menu clearfix"><li class="first leaf"><a href="//www.detentionwatchnetwork.org/pressroom/reports">Reports</a></li>
	<li class="last leaf"><a href="//www.detentionwatchnetwork.org/pressroom/voices">Voices from Detention</a></li>
	</ul></li>
	<li class="last leaf"><a href="//www.detentionwatchnetwork.org/donate">Donate Now</a></li>
	</ul>
</div></div>


<div id="content-wrapper"><div class="container clearfix"><div id="content-innerwrapper">

<!-- Content area -->
<div id="content" class="column clearfix">


<div id="page-title">


	<!-- *** Page title *** -->
	<h1>Death By Detention</h1>

    <p class="intro">
        Immigrants are dying while in the custody of the United States government
    </p>

    <p>
        Since 2003, 262 people have died in the custody of Immigration and
        Customs Enforcement (ICE) and the Federal Bureau of Prisons (BOP),
        including 10 deaths in ICE custody in 2016 alone. <a href="http://www.detentionwatchnetwork.org/sites/default/files/reports/Fatal%20Neglect%20ACLU-DWN-NIJC.pdf">
        Recent investigations</a> have found that inadequate medical care has
        contributed to numerous deaths. This map identifies the facilities where
        deaths have occurred in both ICE detention centers and BOP shadow prisons.
    </p>

    <p>
        <b>Most recent death</b>:
        Moises Tino-Lopez died on September 27, 2016 | Hall County Detention Center, Nebraska
    </p>

    <div id="map">

    </div>

    <p>
        All information on Bureau of Prison facilities obtained by means of a
        Freedom of Information request from Seth Wessler for an investigation
        produced for <a href="http://www.theinvestigativefund.org/investigations/immigrationandlabor/2200/separate%2C_unequal%2C_and_deadly/">
        The Investigative Fund</a> and <a href="https://www.thenation.com/special/private-prison-deaths//?nc=1">The Nation</a>.
    </p>

</div>


<div class="region region-content">
<div id="block-system-main" class="block block-system">
<div class="content">

    <div class="page-title"><h1>Locations</h1></div>

    <div id="locations">

    </div>

</div>
</div>
</div>
</div>
</div></div></div>


<!-- Footers -->
<div id="footer"><div class="container clearfix">
<div class="region region-footer">

<div id="block-block-2" class="block block-block">
	<h2>Contact Us</h2>

	<div class="content">
		<p><a class="more" href="//www.detentionwatchnetwork.org/contact">Contact Us</a><br /><a class="more" href="//www.detentionwatchnetwork.org/about/jobs-internships">View Jobs &amp; Internships</a><br /><a class="more" href="//www.detentionwatchnetwork.org/privacy">Privacy Policy</a></p>
	</div>
</div>

<div id="block-block-3" class="block block-block">
	<h2>Detention 101</h2>

	<div class="content">
		<p><a href="//www.detentionwatchnetwork.org/issues/detention-101" class="more">View the Issues</a></p>
	</div>
</div>

<div id="block-block-4" class="block block-block">
	<h2>Member Directory</h2>

	<div class="content">
		<p><a href="//www.detentionwatchnetwork.org/about/membership-directory" class="more">View Directory</a></p>
	</div>
</div>

<div id="block-block-5" class="block block-block">
	<h2>Connect with Us</h2>

	<div class="content">
		<p><a href="https://www.facebook.com/DetentionWatchNetwork"><i class="fi-social-facebook"><span class="hide">Facebook</span></i></a> <a href="https://twitter.com/detentionwatch"><i class="fi-social-twitter"><span class="hide">Twitter</span></i></a> <a href="https://www.youtube.com/user/DetentionWatchNetwrk"><i class="fi-social-youtube"><span class="hide">YouTube</span></i></a></p>
	</div>
</div>

</div>
</div></div>


<div id="footer-bottom"><div class="container clearfix">
	<div class="region region-footer-bottom">
	<div id="block-block-1" class="block block-block">
	<div class="content">
		<p><img alt="" src="//www.detentionwatchnetwork.org/sites/all/themes/dwn/images/footer-logomark@2x.png" width="40" height="40" /> Part of the <a href="http://idcoalition.org/">International Detention Coalition</a>.</p>
	</div>
	</div>
	</div>
</div></div>

<script type="text/javascript" src="/js/underscore-min.js"></script>
<script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>

<script src="/js/chroma.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/numeral.js/1.4.5/numeral.min.js"></script>

<script src="https://d3js.org/d3-array.v1.min.js"></script>
<script src="https://d3js.org/d3-collection.v1.min.js"></script>
<script src="https://d3js.org/d3-color.v1.min.js"></script>
<script src="https://d3js.org/d3-format.v1.min.js"></script>
<script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
<script src="https://d3js.org/d3-time.v1.min.js"></script>
<script src="https://d3js.org/d3-time-format.v2.min.js"></script>
<script src="https://d3js.org/d3-scale.v1.min.js"></script>

<script type="text/template" id="state-template">
<div class="state">
    <h2><%= state %></h2>

    <% _.each(locations, function(l, facilityName) { %>
        <div id="<%= l.link %>" class="facility">
            <ul><li><%= facilityName %> - <span><%= l.address %></span></li></ul>

            <table>
                <thead>
                    <tr>
                        <th>Year</th>
                        <th>Person</th>
                        <th>Contractor</th>
                    </tr>
                </thead>
                <tbody>
                    <% _.each(l.deaths, function(deaths, year) { %>
                        <% _.each(deaths, function (death) { %>
                            <tr>
                                <td><%= year %></td>
                                <td><%= death.personName %></td>
                                <td><%= death.contractor %></td>
                            </tr>
                        <% }); %>
                    <% }); %>
                </tbody>

            </table>
        </div>
    <% }); %>
</div>
</script>
<script type="text/javascript" src="/js/leaflet-bubble.js"></script>

<script type="text/javascript">

// This function will take a list of records and transform them into a structure
// with the following format:
// {state:
//   {facility:
//     {number-of-deaths,
//      facility-name,
//      address,
//      {deaths:
//        {year: [{person-name, contractor}]}
//      }
//     }
//   }
// }
function transformData(records) {
    var data = {};

    for (var i = 0; i < records.deaths.length; i++) {
        var record = records.deaths[i];
        var personName =  record[0];
        var year = record[1];
        var facilityName = record[2];
        var address = record[3];
        var contractor = record[4];
        var state = record[5];

        if (!data.hasOwnProperty(state)) {
            data[state] = {};
        }

        if (!data[state].hasOwnProperty(facilityName)) {
            data[state][facilityName] = {
                "facility": facilityName,
                "numberOfDeaths": 0,
                "address": address,
                "deaths": {},
                "geo": records.locations[address].geo,
                "link": facilityLink(facilityName),
            };

        }

        if (!data[state][facilityName]["deaths"].hasOwnProperty(year)) {
            data[state][facilityName]["deaths"][year] = [];
        }

        data[state][facilityName]["deaths"][year].push({
            "personName": personName,
            "contractor": contractor,
        });

        data[state][facilityName].numberOfDeaths += 1;

    }

    return data;
}


function asGeoJSON(data) {
    var geoJSON = {"type": "FeatureCollection", "features": []};

    _.each(data, function (locations) {
        _.each(locations, function(location) {
            geoJSON.features.push({
              "type": "Feature",
              "geometry": {
                 "type": "Point",
                 "coordinates":  [location.geo.lng, location.geo.lat]
              },
              "properties": {
                  "Facility": location.facility,
                  "Address": location.address,
                  "Deaths": location.numberOfDeaths,
              }
            });
        })
    });

    return geoJSON;
}

function slugify(text) {
  return text.toString().toLowerCase()
    .replace(/\s+/g, '-')           // Replace spaces with -
    .replace(/[^\w\-]+/g, '')       // Remove all non-word chars
    .replace(/\-\-+/g, '-')         // Replace multiple - with single -
    .replace(/^-+/, '')             // Trim - from start of text
    .replace(/-+$/, '');            // Trim - from end of text
}

function facilityLink(facilityName) {
    return slugify(facilityName);
}

var centerOfUSA = [39.8282, -98.5795];
var map = L.map('map').setView(centerOfUSA, 4);

L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png').addTo(map);

jQuery.getJSON('/data/deaths-by-detention.json', function(data) {
    var data = transformData(data);
    var bubbleData = asGeoJSON(data);

    var bubbles = L.bubbleLayer(
        bubbleData,
        {
            property: 'Deaths',
            scale: ['#ffa500', '#de3f53', '#8b0000'],
            eachBubble: function(feature, bubble) {
                bubble.on('dblclick', function (event) {
                    var url = location.href;
                    location.href = '#' + facilityLink(feature.properties.Facility);
                    history.replaceState(null,null,url);
                });
            }
        }
    );

    bubbles.addTo(map);

    var locationT = _.template(jQuery('#state-template').html());
    var statesSorted = _.sortBy(_.keys(data), function (state){
        return state;
    });

    _.each(statesSorted, function (state) {
        var locations = data[state];
        jQuery('#locations').append(locationT({state: state, locations: locations}));
    });

});

</script>

</body>
</html>
